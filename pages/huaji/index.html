<!DOCTYPE HTML>
<html>
<head>
   <script src="stats.min.js"></script>
   <script src="three.js"></script>
   <script src="tween.js"></script>
   <style type="text/css">
     body{margin:0;padding:0; overflow:hidden;}
     canvas{display:block;}
   </style>
</head>
<body>
  <script type="text/javascript">
     //场景
      var scene = new THREE.Scene();
      //相机
      var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 10000);
      camera.position.x = 10;
      camera.position.z = 3000;
      //渲染器
      var renderer = new THREE.WebGLRenderer({ antialias: true, alpha: false });
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.body.appendChild(renderer.domElement);
      renderer.setClearColor(0x000000, 0); 
      //性能监视器
      var stats = new Stats();
      stats.setMode(1); // 0: fps, 1: ms
      stats.domElement.style.position = 'absolute'; //绝对坐标  
      stats.domElement.style.left = '0px'; // (0,0)px,左上角  
      stats.domElement.style.top = '0px';
      document.body.appendChild(stats.domElement);




      var light = new THREE.PointLight('#fff', 0.8);
      light.position.set( 0, 500, 3000 );
      scene.add(light);

      var light1 = new THREE.PointLight('#fff', 0.3);
      light1.position.set(0, -100, 3000);
      scene.add(light1);

     // var tween = new TWEEN.Tween(camera.position);
      //  tween.to({ y: 1000 }, 15000).start();

      // 1.  创建几何体 这里是平面  宽960 高480 上面的网格是1 
      var geometry = new THREE.PlaneGeometry(200, 200);
      
      //几何体创建纹理坐标 好像是四个角
      geometry.vertices[0].uv = new THREE.Vector2(0, 0);
      geometry.vertices[1].uv = new THREE.Vector2(1, 0);
      geometry.vertices[2].uv = new THREE.Vector2(1, 1);
      geometry.vertices[3].uv = new THREE.Vector2(0, 1);
     

      var loader = new THREE.TextureLoader();
      var texture = loader.load("huaji.png");
      var material = new THREE.MeshPhongMaterial({ color: '#fff', map: texture, transparent: true, opacity: 1, depthTest: false });
      material.side = THREE.DoubleSide; //单面贴就删除

      var meshB = new THREE.Mesh(geometry, material);
      meshB.position.set(0,0,0);
      new TWEEN.Tween(meshB.rotation).to({ x: Math.PI * 2 }, 4000).repeat(Infinity).start();
      new TWEEN.Tween(meshB.position).to({ z: 5000 }, 20000).start();
      scene.add(meshB);

      for (var i = 0; i <= 50; i++) {
          var mesh = new THREE.Mesh(geometry, material);
          mesh.position.set((Math.random() - 0.5) * 5000, (Math.random() - 0.5) * 5000, (Math.random() - 0.5) * 5000);
          var rotationX = Math.PI * (Math.random() * 2);
          mesh.rotation.x = rotationX;
          new TWEEN.Tween(mesh.rotation).to({ x: Math.PI * 2 + rotationX }, 4000).repeat(Infinity).start();
          new TWEEN.Tween(mesh.position).to({ z: 5000 }, 20000).start();
          scene.add(mesh);       
      }


     


      //动画循环渲染
      function render() {
          requestAnimationFrame(render);
          renderer.clear();
          renderer.render(scene, camera);
          TWEEN.update();

          stats.update();
          camera.lookAt(meshB.position);

          // camera.position.z -= 0.05;   
      }
      render();
  </script>
</body>
</html>